name: "ðŸ”§ Switch Config Submission"
description: "Report a config issue, suggest an improvement, or submit a new vendor/model configuration"
title: "[Config] "
labels: ["config-submission", "needs-triage"]
body:
  - type: markdown
    attributes:
      value: |
        ## Thank you for contributing! ðŸŽ‰
        
        Your switch configuration helps the community build better Azure Local network templates.
        
        > **âš ï¸ Important â€” Sanitize your config before submitting:**
        > - Remove all passwords, secrets, SNMP community strings, SSH keys
        > - Replace sensitive hostnames and IP addresses with dummy values if needed
        > - Replace credentials with `$CREDENTIAL_PLACEHOLDER$`
        > - See [CONTRIBUTING.md](../../CONTRIBUTING.md) for details

  - type: dropdown
    id: submission_type
    attributes:
      label: What do you need?
      description: "Are you reporting something wrong with the tool's output, or contributing a config for a new vendor/model?"
      options:
        - "Fix / Improvement â€” The tool generates something incorrect or incomplete"
        - "New Vendor / Model â€” I have a working config for a vendor or model not yet supported"
    validations:
      required: true

  - type: dropdown
    id: deployment_pattern
    attributes:
      label: Deployment Pattern
      description: |
        Which Azure Local deployment pattern is this config for? This determines VLAN layout, port roles, and BGP structure.
        Not sure? See [CONTRIBUTING.md](../../CONTRIBUTING.md#how-to-identify-your-deployment-pattern) for help.
      options:
        - "HyperConverged (Storage + Compute on same NICs â€” most common)"
        - "Switched (Dedicated storage ports, separate from compute)"
        - "Switchless (Storage direct-attached between nodes, bypasses TOR)"
    validations:
      required: true

  - type: input
    id: vendor
    attributes:
      label: Switch Vendor
      description: "The switch manufacturer (e.g., Dell EMC, Cisco, Arista, Juniper)"
      placeholder: "Dell EMC"
    validations:
      required: true

  - type: input
    id: firmware
    attributes:
      label: Firmware/OS Version
      description: "The operating system or firmware version (e.g., OS10, NX-OS 10.3, EOS 4.28)"
      placeholder: "OS10"
    validations:
      required: true

  - type: input
    id: model
    attributes:
      label: Switch Model
      description: "The specific switch model number"
      placeholder: "S5248F-ON"
    validations:
      required: true

  - type: dropdown
    id: role
    attributes:
      label: Switch Role
      description: "The role of this switch in your Azure Local deployment"
      options:
        - "TOR1 (Top-of-Rack Switch 1 â€” active/primary)"
        - "TOR2 (Top-of-Rack Switch 2 â€” standby/secondary)"
        - "BMC (Baseboard Management Controller Switch â€” lab use only)"
    validations:
      required: true

  - type: input
    id: hostname
    attributes:
      label: Switch Hostname
      description: "The hostname configured on the switch (optional â€” will be sanitized)"
      placeholder: "rack1-tor1"
    validations:
      required: false

  - type: input
    id: node_count
    attributes:
      label: Node Count
      description: "Number of nodes in your Azure Local cluster (optional, helps with port layout analysis)"
      placeholder: "4"
    validations:
      required: false

  - type: textarea
    id: whats_wrong
    attributes:
      label: What's wrong or what needs to change?
      description: |
        Describe in plain English what the tool gets wrong or what needs to be added.
        Be as specific as you can â€” mention VLAN IDs, interface names, BGP settings, priorities, etc.
        For "New Vendor / Model" submissions, describe what makes this vendor/model unique.
      placeholder: |
        Examples:
        - "HSRP priority for management VLANs should be 200 instead of 150"
        - "BGP neighbor for spine switch 10.1.1.1 is missing"
        - "Port Ethernet1/48 should be an uplink, not a host port"
        - "QoS policy needs DSCP marking for storage traffic"
        - "This is a new Arista switch â€” CLI syntax is different from Cisco/Dell"
    validations:
      required: false

  - type: textarea
    id: config
    attributes:
      label: Switch Configuration
      description: |
        Paste your full switch running configuration here.
        For "Fix / Improvement": this is your WORKING config that shows the correct behavior.
        For "New Vendor / Model": this is the complete running config for template creation.
      placeholder: |
        hostname my-switch
        !
        interface vlan99
         description Management
         ip address 10.0.0.1/24
        !
        ... (paste full running config)
      render: text
    validations:
      required: true

  - type: textarea
    id: lab_json
    attributes:
      label: Lab JSON Input (Advanced Users Only)
      description: |
        If you used this tool's JSON input format, paste it here.
        This is optional â€” most users won't have this. Leave blank if unsure.
      placeholder: |
        {
          "Version": "1.0.0",
          "InputData": {
            "Switches": [...],
            "Supernets": [...]
          }
        }
      render: json
    validations:
      required: false

  - type: textarea
    id: notes
    attributes:
      label: Additional Notes
      description: "Any additional context about this configuration (optional)"
      placeholder: |
        - This config is for a 4-node cluster
        - Using jumbo frames for storage
        - BGP peering with datacenter spine
        - Firmware version 10.5.5.5
    validations:
      required: false

  - type: checkboxes
    id: confirmations
    attributes:
      label: Pre-submission Checklist
      description: "Please confirm the following before submitting"
      options:
        - label: "I have removed all passwords, secrets, SNMP community strings, and SSH keys"
          required: true
        - label: "I have reviewed [CONTRIBUTING.md](../../CONTRIBUTING.md)"
          required: true
        - label: "This configuration is from a working Azure Local deployment (or test lab)"
          required: false
